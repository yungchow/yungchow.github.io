## ABOUT SQLS

- 场景：select * from v_fx_optn_dl_log t where t.TKR_TRDR_CD='user@icbc' 后的结果集无法编辑
- 报错：These query results are not updateable
- 实现： select * from v_fx_optn_dl_log t where t.TKR_TRDR_CD='user@icbc' for update
  - for update后通过commit或者rollback释放锁



- ```sql
  select t1.dlvry_tp,t1.* from v_fx_optn_dl_log t1
  	where t1.dlvry_tp='2' and t1.tkr_trdr_cd in
  (select tkr_trdr_cd from v_fx_optn_dl_log t
   	where dlvry_tp='1' and t.tkr_trdr_cd='testuser')
  union
  select t1.dlvry_tp,t1.* from v_fx_optn_dl_log t1
  	where t1.dlvry_tp='1' and t1.tkr_trdr_cd in
  (select tkr_trdr_cd from v_fx_optn_dl_log t
  	where dlvry_tp='2' and t.tkr_trdr_cd='testuser')
  ```

- ​

